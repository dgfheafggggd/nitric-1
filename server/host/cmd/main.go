// Code generated by nitric plugin builder - DO NOT EDIT.
//
// Source: github.com/nitrictech/plugins-poc/host/hacks/build

package main

import (
	"github.com/nitrictech/nitric/server/runtime/storage"
	"github.com/nitrictech/nitric/server/runtime/pubsub"
	"github.com/nitrictech/nitric/server/runtime"
    "github.com/nitrictech/plugins-poc/host/server"
	s3 "github.com/nitrictech/plugins-poc/plugins/storage/s3"
	sns "github.com/nitrictech/plugins-poc/plugins/pubsub/sns"
)

// storagePluginRegistry maps plugin names to their storage plugin constructors
var storagePluginRegistry = map[string]plugins.Constructor[storage.Storage]{
	"default": s3.Plugin,
}

// pubsubPluginRegistry maps plugin names to their pubsub plugin constructors
var pubsubPluginRegistry = map[string]plugins.Constructor[pubsub.Pubsub]{
	"default": sns.Plugin,
}

func main() {
    // Register all storage plugins
	runtime.RegisterPlugins(storage.Register, storagePluginRegistry)

    // Register all pubsub plugins
	runtime.RegisterPlugins(pubsub.Register, pubsubPluginRegistry)

    // Start the host
    runtime.Start()
}
